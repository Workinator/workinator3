Consumer
    -- KEY
    consumerId

    -- CONFIGURATION
    maxExecutorCount

Partitions
    -- KEY
    partitionKey

    -- CONFIGURATION
    maxWorkerCount
    maxIdleTimeSeconds

    -- STATUS
    hasMoreWork
    lastCheckStart
    lastCheckEnd
    lastWork
    workCount

Workers
    -- KEY
    partitionKey
    partitionWorkerNumber

    -- CONFIGURATION
    maxIdleTimeSeconds

    -- STATUS
    currentAssignee
    lastCheckStart
    lastCheckEnd


Step 1:
    workers.partitionWorkerNumber = 1 and lastCheckEnd < now - maxIdleTimeSeconds

Step 2:
    workers.par

=====================================================================

Partition
    -- KEY
    partitionKey

    -- CONFIGURATION
    maxWorkerCount
    maxIdleTimeSeconds

    -- STATUS
    hasWork
    dueDate
    workerCount


Step 1:
    workerCount = 0 and lastChecked < now - maxIdleTimeSeconds
    order by lastChecked

Step 2:
    hasWork and workerCount < maxWorkerCount
    order by workerCount, lastChecked

Step 3:
    workerCount = 0
    order by lastChecked








